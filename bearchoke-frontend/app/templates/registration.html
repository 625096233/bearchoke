<!--
  ~ Copyright 2014 the original author or authors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="jumbotron">
    <div class="container">
        <h2><i class="fa fa-plug"></i> Registration</h2>
    </div>
</div>
<div id="registration" class="container">
    <div class="row alert alert-info">
        <p>Create an account with the system</p>

        <p>This feature makes use of Angular's new ngMessages (v1.3+) extension and visualCaptcha</p>
    </div>
    <div class="row">
        <form name="userForm" ng-submit="submit()" novalidate>
            <div class="control-group">
                <label for="username">Username: </label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input id="username" type="text" class="form-control" placeholder="Username" name="username"
                               ng-model="user.username"
                               record-availability-validator="/api/usernameAvailability"
                               required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.username)" ng-messages="userForm.username.$error">
                        <div class="ng-scope" ng-message="required">
                            You forgot to enter your username...
                        </div>
                        <div ng-message="record-loading">Validating username...</div>
                        <div ng-message="record-available">Username is taken</div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="username">Email: </label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-envelope-o"></i></span>
                        <input type="email" class="form-control" placeholder="E-mail" name="email"
                               ng-model="user.email"
                               record-availability-validator="/api/emailAvailability"
                               required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.email)"  ng-messages="userForm.email.$error">
                        <div ng-message="required">
                            You forgot to enter your email address...
                        </div>
                        <div ng-message="email">
                            You did not enter your email address correctly...
                        </div>
                        <div ng-message="record-loading">Validating email...</div>
                        <div ng-message="record-available">Email is taken</div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="username">Password: </label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-shield"></i></span>
                        <input type="password" class="form-control" placeholder="Password" name="password"
                               ng-model="user.password"
                               ng-minlength="5"
                               ng-maxlength="50"
                               password-characters-validator
                               required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.password)"  ng-messages="userForm.password.$error">
                        <div ng-message="required">
                            You forgot to enter your password...
                        </div>
                        <div ng-message="minlength">
                            Your password is too short...
                        </div>
                        <div ng-message="password-characters">
                            Your password must consist of alphabetical or numeric characters.
                            It must also contain at least one special character, a number as well as an uppercase letter.
                        </div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="username">Verify password: </label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-shield"></i></span>
                        <input type="password" class="form-control" placeholder="Verify password" name="verifypassword"
                               ng-model="user.verifypassword"
                               ng-minlength="5"
                               ng-maxlength="50"
                               match-validator="user.password"
                               required="">
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.verifypassword)"  ng-messages="userForm.verifypassword.$error">
                        <div ng-message="required">
                            You forgot to re-enter your password...
                        </div>
                        <div ng-message="minlength">
                            Your password is too short...
                        </div>
                        <div ng-message="match">
                            Your passwords don't match...
                        </div>
                        <div ng-message="password-characters">
                            Your password must consist of alphabetical or numeric characters.
                            It must also contain at least one special character, a number as well as an uppercase letter.
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group input-group-lg">
                    <span class="input-group-addon"><input type="checkbox"></span>
                    <input type="text" class="form-control" placeholder="Sign up for newsletter" readonly>
                </div>
            </div>
            <div class="form-group">
                <button type="reset" class="btn btn-warning">Reset</button>
                <button type="submit" class="btn btn-success">Register</button>
            </div>
        </form>
    </div>

</div>
