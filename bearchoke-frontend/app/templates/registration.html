<!--
  ~ Copyright 2014 the original author or authors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="jumbotron">
    <div class="container">
        <h2><i class="fa fa-plug"></i> Registration</h2>
    </div>
</div>
<div id="registration" class="container">
    <div class="row alert alert-info">
        <p>Create an account with Bearchoke Tempest.</p>

        <p>This feature makes use of Angular's new <a href="https://docs.angularjs.org/api/ngMessages/directive/ngMessages" target="_blank">ngMessages (v1.3+) extension</a> for validation</p>
    </div>
    <div class="row">
        <form name="userForm" ng-submit="submit()" novalidate>
            <div class="control-group">
                <label for="firstname"><i class="fa fa-asterisk red normal"></i> First name: </label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input id="firstname" type="text" class="form-control" placeholder="First name" name="firstname"
                               ng-model="user.firstname" required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.firstname)" ng-messages="userForm.firstname.$error">
                        <div class="ng-scope" ng-message="required">
                            You forgot to enter your first name...
                        </div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="lastname"><i class="fa fa-asterisk red"></i> Last name:</label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input id="lastname" type="text" class="form-control" placeholder="Last name" name="lastname"
                               ng-model="user.lastname" required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.lastname)" ng-messages="userForm.lastname.$error">
                        <div class="ng-scope" ng-message="required">
                            You forgot to enter your last name...
                        </div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="username"><i class="fa fa-asterisk red"></i> Username:</label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-user"></i></span>
                        <input id="username" type="text" class="form-control" placeholder="Username" name="username"
                               ng-model="user.username"
                               ng-minlength="4"
                               ng-maxlength="50"
                               record-availability-validator="/user/uniqueusername"
                               required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.username)" ng-messages="userForm.username.$error">
                        <div class="ng-scope" ng-message="required">
                            You forgot to enter your username...
                        </div>
                        <div ng-message="recordLoading">Validating username...</div>
                        <div ng-message="recordAvailable">Username is taken</div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="email"><i class="fa fa-asterisk red"></i> Email:</label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-envelope-o"></i></span>
                        <input id="email" type="email" class="form-control" placeholder="E-mail" name="email"
                               ng-model="user.email"
                               record-availability-validator="/user/uniqueemail"
                               required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.email)"  ng-messages="userForm.email.$error">
                        <div ng-message="required">
                            You forgot to enter your email address...
                        </div>
                        <div ng-message="email">
                            You did not enter your email address correctly...
                        </div>
                        <div ng-message="recordLoading">Validating email...</div>
                        <div ng-message="recordAvailable">Email is taken</div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="password"><i class="fa fa-asterisk red"></i> Password:</label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-shield"></i></span>
                        <input id="password" type="password" class="form-control" placeholder="Password" name="password"
                               ng-model="user.password"
                               ng-minlength="5"
                               ng-maxlength="50"
                               password-characters-validator
                               required>
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.password)"  ng-messages="userForm.password.$error">
                        <div ng-message="required">
                            You forgot to enter your password...
                        </div>
                        <div ng-message="minlength">
                            Your password is too short...
                        </div>
                        <div ng-message="password-characters">
                            Your password must consist of alphabetical or numeric characters.
                            It must also contain at least one special character, a number as well as an uppercase letter.
                        </div>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label for="verifypassword"><i class="fa fa-asterisk red"></i> Verify password:</label>

                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <span class="input-group-addon"><i class="fa fa-shield"></i></span>
                        <input id="verifypassword" type="password" class="form-control" placeholder="Verify password" name="verifypassword"
                               ng-model="user.verifypassword"
                               ng-minlength="5"
                               ng-maxlength="50"
                               match-validator="user.password"
                               required="">
                    </div>
                    <div class="error-messages" ng-if="interacted(userForm.verifypassword)"  ng-messages="userForm.verifypassword.$error">
                        <div ng-message="required">
                            You forgot to re-enter your password...
                        </div>
                        <div ng-message="minlength">
                            Your password is too short...
                        </div>
                        <div ng-message="match">
                            Your passwords don't match...
                        </div>
                        <div ng-message="password-characters">
                            Your password must consist of alphabetical or numeric characters.
                            It must also contain at least one special character, a number as well as an uppercase letter.
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button type="reset" class="btn btn-warning">Reset</button>
                <button type="submit" class="btn btn-success">Register</button>
            </div>
        </form>
    </div>

</div>
